---
output: 
  word_document:
    reference_docx: "packet_styles.docx"
---

```{r setup, include = FALSE}
library(tidyverse)
library(lubridate)
library(googlesheets4)
library(RefManageR)
library(activityReporteR)
library(flextable)

report_start_date <- as.Date("2020-05-01")
report_end_date <- Sys.Date()

data_gs_url <- "https://docs.google.com/spreadsheets/d/11XRsF-MupYcnZlykUe6YHAGe1A16CxJyq9nT3oSbDeg/edit#gid=0"
gs4_auth("haoye@ufl.edu")

data_bib_file <- "my_lib.bib"
BibOptions(check.entries = FALSE,
           bib.style = "authoryear",
           cite.style = "alphabetic",
           style = "markdown",
           max.names = Inf, 
           hyperlink = FALSE,
           dashed = FALSE, 
           use.misc.default.format = TRUE)
my_bib <- ReadBib(data_bib_file, check = FALSE)

dept_name <- "Academic Research Consulting & Services"

set_flextable_defaults(
    font.family = "Times New Roman", 
    font.size = 11, 
    border.color = "black", 
    table.layout = "fixed", 
    padding.top = 3, padding.bottom = 1
)

source("R/download_gs_data.R")
source("R/format_data.R")
source("R/format_word_tables.R")
source("R/print_data.R")

underline_first_author <- function(df)
{
    format_author(df, c("^(\\w+, \\w+\\.)" = "\\[\\1\\]\\{\\.underline\\}"))
}

knitr::opts_chunk$set(echo = FALSE, results = "asis")
```

```{r check data sources}
data_files <- c("data/degrees.RDS", 
                "data/jobs.RDS", 
                "data/effort_perc.RDS", 
                "data/teaching_summary.RDS", 
                "data/teaching_evals.RDS", 
                "data/grad_committees.RDS", 
                "data/research.RDS",
                "data/grants.RDS", 
                "data/service.RDS", 
                "data/reviews.RDS", 
                "data/awards.RDS", 
                "data/talks.RDS")
data_files_found <- file.exists(here::here(data_files))
if (!all(data_files_found))
{
    missing_files <- paste0("file '", 
                            data_files[!data_files_found], 
                            "' not found")
    vapply(missing_files, warning, "", call. = FALSE)
}
```

# NOMINEE INFORMATION COVER SHEET 

<!--

The cover sheet automatically gets added after the PDF is uploaded into UF's OPT system.
-->

# BRIEF DESCRIPTION OF JOB DUTIES 

<!-- Briefly describe your assigned duties and responsibilities. Provide context for these responsibilities (ie. the relevance and importance to your discipline and UF -->
<!-- Describe the duties of your position – this is not really the place for first person input (instead of ‘I do this and I do that’, it should be a description of the duties). Take advantage of this opportunity to ‘translate’ your work for reviewers who are unfamiliar with librarianship. -->

As the reproducibility librarian, I am responsible for developing and executing on an institutional strategy for education and support of trans-disciplinary research reproducibility and open science, including programming for and support of information retrieval/storage, data- and computational workflows, responsible conduct of research, and open scholarship broadly defined (e.g. open access, publishing data and code, preprints). I also serve as the liaison librarian to several departments and programs in the College of Medicine and College of Public Health and Health Professions: Biostatistics, Health Outcomes and Biomedical Informatics, and the Graduate Program in Biomedical Sciences. My position provides interdisciplinary information consultation services in a variety of modes, designs workshops to promote research reproducibility, performs course-integrated instruction, and participates in the Health Science Center Library’s teaching initiatives. In addition, I support special projects and programs related to the overall mission of the Academic Research Consulting & Services department, including coordinating and promoting programs and services, such as the Student HiPerGator Sponsorship program. I also serve on and lead committees within UF, and for national and international professional organizations, when such responsibilities complement or directly relate to promoting research reproducibility. My scholarship explores new modes and models for open research broadly and possible interventions to shift existing practices, such as through instruction, technical infrastructure, and sociocultural incentives. 


## Impact of COVID pandemic on Job Duties
<!-- In this optional section faculty may provide a statement regarding the impact of the COVID-19 pandemic on the nominee’s professional life -- up to 500 words. This statement should explain how the nominee adjusted/compensated for pandemic-related difficulties impacting their research, teaching, clinics, extension or service. Please see http://aa.ufl.edu/policies/tenure-and-promotion-information/ for more details. This was a new section beginning in 2021. -->

The COVID pandemic had a substantial and indeterminate effect on my professional responsibilities. In between my hire and my start in May 2020, the university closed, without a specific plan for re-opening. On top of the challenges of starting a new position, there were many obstacles resulting from operating in unprecedented circumstances. The overall environment and its uncertainties increased the difficult of planning events and connecting with both my liaison departments and broader units on campus.

I made use of my existing experience in lesson development and delivering training online to offer workshops online through the Zoom platform. This had the dual advantage of establishing a permanently online record of my lesson content, as well as expanding the accessibility of my instruction to anyone, instead of restricting it to whoever is able to attend in-person.


# AREAS OF SPECIALIZATION

* **Liaison librarianship**: supporting students, staff, and faculty in the health sciences through various activities including: expert literature searching, teaching best practices in information searching and retrieval, developing relevant and appropriate library resources and collections, 

* **Reproducibility**: promoting research practices that support "reproducibility" (the ability to generate identical or equivalent results to that of an existing publication using the same dataset and analysis procedures), encompassing data management, sharing intermediate products such as data and code, and honest reporting of statistical analyses.

* **Open research**: A philosophy of radical openness and transparency to as many facets of research as possible, recognizing that many research problems are complex and benefit from teams of researchers working collectively and sharing information (e.g. open science commitments for COVID-19 research)

* **Diversity, equity, and inclusion**: cultivating environments and systems that are intentionally welcoming of individuals from all backgrounds, including historically and presently oppressed group identities, such as race, nationality, gender, sexuality, disability status, etc. 

# EFFORT REPORTED SINCE LAST PROMOTION (NOT TO EXCEED TEN YEARS), OR SINCE UF EMPLOYMENT, whichever is more recent 

```{r}
df <- readRDS("data/effort_perc.RDS")
format_effort_perc(df)
```

# EDUCATIONAL BACKGROUND

```{r, message = FALSE}
dat_degrees <- readRDS("data/degrees.RDS")
dat_degrees %>%
    mutate(Year = as.character(year(as.Date(Date)))) %>%
    select(-Date) %>%
    arrange(desc(Year)) %>%
    flextable() %>%
    set_table_properties(layout = "autofit") %>%
    theme_box() %>% 
    align(align = "center", part = "header")
```

# EMPLOYMENT

```{r, message = FALSE}
dat_jobs <- readRDS("data/jobs.RDS")
dat_jobs %>%
    format_jobs() %>%
    flextable() %>%
    set_table_properties(layout = "autofit") %>%
    theme_box() %>% 
    align(align = "center", part = "header")
```


# YEAR TENURE/PERMANENT STATUS WAS AWARDED BY UNIVERSITY OF FLORIDA

N/A

# TENURE AND PROMOTION CRITERIA

# TEACHING, ADVISING, AND INSTRUCTIONAL ACCOMPLISHMENTS

*NOTE: To support the teaching and research missions of the University, Library faculty are assigned to varying degrees to perform public, technical, archival, and administrative functions. These primary activities are referred to in the Libraries' T&P Criteria as "Professional Responsibilities" rather than "Teaching" to better reflect the unique and specialized activities in which Library faculty engage.*






# TEACHING EVALUATIONS

## UF Teaching Evaluations

**Summary Table**

<br />

```{r}
df <- readRDS("data/teaching_summary.RDS")
format_teaching_summary(df)
```

<br />

```{r}
df <- readRDS("data/teaching_evals.RDS")
format_teaching_eval(df)
```

## Peer assessments

None

# EDUCATIONAL PORTFOLIO (if applicable)

N/A

# GRADUATE COMMITTEE ACTIVITIES

```{r}
df <- readRDS("data/grad_committees.RDS") %>%
    remove_empty_rows()

format_grad_committee(df)
```

# CONTRIBUTION TO DISCIPLINE/RESEARCH NARRATIVE

Research is undergoing a massive increase in interest and awareness of issues around replicability/reproducibility, and concomitant policies and expectations from institutions and funders. My research aims primarily to empower researchers with the tools and training necessary to meet a changing research landscape, while also addressing systemic problems in equity and inclusion in the academic research ecosystem.

Briefly, reproducibility and replicability refer to the trustworthiness and robustness of research results. Following the definitions adopted by the National Academies of Sciences, Engineering, and Medicine, a study is **reproducible** if an independent researcher can perform an identical analysis on the same dataset, and achieve equivalent results; in contrast, a **replication study** involves collecting new data and following the same procedures to test if the results of the initial study generalize.

*Reproducibility Training*

Because there are a multitude of factors that may cause irreproducibility, there is no consensus on the best approach to ensure reproducibility. One of the pillars of my work is in developing training in reproducible research practices. 
This includes workshops that I have shared as open educational resources, in addition to trainings developed in conjunction with others.

Work to identify different approaches in training (RR 2020 paper, JMLA paper)


*Reproducibility Practices*

documents reproducibility, organize our understanding of different facets, and promote approaches that enable researchers to identify pathways for improving reproducibility that work best for their current set of practices and for their research approach and discipline. For example, using git/github or a version control system is often touted as an important tool for reproduciblity; however it is challenging to learn, with few immediate benefits, and not well-suited for non-computational research workflows.



*Equity and Inclusion*

open research can shift power
I seek to create more equity and inclusion in academic research spaces. allyship skills and advocacy for systemic changes to better recognize and reward individuals in research support roles (e.g. research computing, libraries, research software engineering)



# CREATIVE WORKS OR ACTIVITIES

```{r, results = "asis"}
dat_research <- readRDS("data/research.RDS")
works <- filter(dat_research, type %in% c("other", "software", "OER", "preprint"))

works %>% 
    format_research_other(my_bib) %>%
    underline_first_author() %>%
    format_author() %>%
    print_data(prefix = "", sep = "\n\n<br />\n\n", 
               empty_message = "None\n")
```

# PATENTS AND COPYRIGHTS

None

# PUBLICATIONS

## Books, Sole Author
<!-- (Title, Publisher, Place of Publication, Date, Inclusive Pages) -->
None

## Books, Co-authored
<!-- (Co-author(s), Title, Publisher, Place of Publication, Date, Inclusive Pages) -->
None

## Books, Edited
<!-- (Editor, Co-editor(s), Title, Publisher, Place of Publication, Date, Inclusive Pages) -->
None

## Books, Contributor of Chapter(s)
<!-- (Author, Co-author(s), Title of Book and Chapter, Publisher, Place of Publication, Date, Inclusive Pages) -->
None

## Monographs
<!-- (Author, Co-author(s), Title, Series of Volume, if applicable, Publisher, Place of Publication, Date, Inclusive Pages) -->
None

## Refereed Publications
<!-- (Author, Co-author(s), Title, Name of Journal or Publication, Volume, Date, Inclusive Pages) -->

```{r, results = "asis"}
dat_research <- readRDS("data/research.RDS")
pubs <- filter(dat_research, status %in% c("published", "forthcoming"))

pubs %>%
    format_research("paper", my_bib) %>%
    underline_first_author() %>%
    format_author() %>%
    print_data(prefix = "", sep = "\n\n<br />\n\n", 
               empty_message = "None\n")
```

## Non-refereed Publications
<!-- Author, Co-author(s), Title, Name of Journal, Bulletin, Circular, or other Publication, Volume, Date, Inclusive Pages -->
None

## Bibliographies/Catalogs
<!-- Author, Co-author(s), Title, Publisher, Place of Publication, Date, Inclusive Pages -->
None

## Abstracts
<!-- Author, Co-author(s), Title, Name of Journal or Publication, Volume, Date, Inclusive Pages -->
None

## Reviews
<!-- Author, Co-author(s), Title and Author of Work Reviewed, Where Review was Published, Date, Inclusive Pages -->
None

## Miscellaneous
<!-- Author, Co-author(s), Title, Source of Publication, Date, Inclusive Pages -->




# LECTURES, SPEECHES, POSTERS PRESENTED AT PROFESSIONAL CONFERENCES/SEMINARS

```{r}
dat_talks <- readRDS("data/talks.RDS") %>%
    filter(type == "talk")
```

## International

```{r}
print_talks(dat_talks, locale = "international")
```

## National

```{r}
print_talks(dat_talks, locale = "national")
```

## Regional

```{r}
print_talks(dat_talks, locale = "regional")
```

## State

```{r}
print_talks(dat_talks, locale = "state")
```

## Local

```{r}
print_talks(dat_talks, locale = "local")
```

# SPONSORED PROJECTS

```{r, include = FALSE}
start_year <- year(report_start_date)
end_year <- year(report_end_date)
```

## Funded

### List of Funded Grants

```{r, include = FALSE}
dat_grants <- readRDS("data/grants.RDS")
```

#### List of Funding - Internal `r start_year` to `r end_year`

```{r, message = FALSE, results = "asis"}
grants <- filter(dat_grants, funder_loc == "internal")

if (NROW(grants) > 0)
{
    grants %>%
        format_grants_table() %>%
        print_grants_table()
} else {
    cat("None")
}
```

#### List of Funding - External `r start_year` to `r end_year`

```{r, message = FALSE, results = "asis"}
grants <-  filter(dat_grants, funder_loc == "external")

if (NROW(grants) > 0)
{
    grants %>%
        format_grants_table() %>%
        print_grants_table()
}
```

### Summary of Grant Funding

```{r}
dat <- data.frame(ROLE = c("Principal Investigator", "Co-Principal Investigator", "Investigator", "Senior Personnel", "Sponsor of Junior Faculty", "Totals"), 
                  TOTAL = c(99833, 0, 8697, 0, 0, 108530), 
                  `Direct Costs` = c(75289, 0, 6675, 0, 0, 81964), 
                  `Indirect Costs` = c(24544, 0, 2022, 0, 0, 26566))

dat %>%
    flextable() %>%
    set_table_properties(layout = "autofit") %>%
    theme_box() %>%
    align(align = "center", part = "header") %>%
    align(align = "center", i = 6, j = 1)

```

### Short Narrative of Grant Funding

**Planning for Open Grants: Fostering a Transparent and Accessible National Research Proposal Infrastructure** (ongoing)

The funds for this grant supported work on a planning project to explore the social and technical issues around an open repository, including hiring two graduate student research fellows, stipends for an external advisory board, and conference travel. As the PI, I lead the project team, coordinate the activities, and supervise the student hires.

**Supplement: GatorSTAR: A New MARC** (ongoing)

The funds for this grant supported salaries and the creation and implementation of training modules to educate students on how to share data following the FAIR (Findable Accessible Interoperable Reusable) guidelines. As an investigator for this project, I helped with creating the materials and assisting with the evaluation of the lesson effetiveness.

**Educating for Reproducibility: Pathways to Integrity**

The funds for this grant supported salaries and the hosting of a virtual conference on education in reproducibility across different research disciplines and career stages. As an investigator for this project, I helped with planning of the conference, and execution during the event itself, including moderating and hosting sessions.

# 19. SERVICE NARRATIVE 








# UNIVERSITY GOVERNANCE AND SERVICE

```{r, include = FALSE, message = FALSE}
dat_service <- readRDS("data/service.RDS")

uni_service <- filter(dat_service, setting %in% c("university", "library"))
dat_service <- anti_join(dat_service, uni_service)
```

## University

```{r}
print_service(uni_service, sublocale = "university")
```

## College

```{r}
print_service(uni_service, sublocale = "college")
```


## Department/Center

```{r}
print_service(uni_service, sublocale = "department")
```


# CONSULTATIONS OUTSIDE THE UNIVERSITY

None

# EDITOR OF SCHOLARLY JOURNALS, SERVICE OR EDITORIAL ADVISORY BOARDS, REVIEWER FOR SCHOLARLY JOURNALS

## Editor

```{r, message = FALSE}
dat_editor <- filter(dat_service, stringr::str_detect(dat_service$role, "editor"))
dat_service <- anti_join(dat_service, dat_editor)

dat_editor %>%
    format_service() %>%
    print_data(prefix = "* ", sep = "\n\n")
```

## Editorial Advisory Boards

None

## Reviewer for Scholarly Journal

```{r}
dat_reviews <- readRDS("data/reviews.RDS")

dat_reviews %>%
    format_reviews() %>%
    print_data(prefix = "* ", sep = "\n\n", 
               empty_message = "None\n")
    
```

## Book Manuscripts Reviewed

None

# 23. INTERNATIONAL ACTIVITIES

Reproducibility is a multi-faceted issue that presents a multitude of challenges and possible solutions. In engaging with international collaborators, stakeholders, and audiences, I am able to both share with and learn from a diverse set of backgrounds and experiences that enhance the impact of my work. This is particularly relevant when interacting with reproducibility and open science groups outside the US and thinking about what kinds of multi-institutional or multi-sector partnerships can shift research practices in the US, Florida, the University, and more local settings. Conversely, my service to international communities and professional organizations helps me to stay on the forefront of advances and practices in the areas of research reproducibility and open research.

# EXTENSION PROGRAMS (for IFAS only)

N/A

# CLINICAL SERVICE, CLINICAL ACTIVITIES, OR CLINICAL PORTFOLIO

N/A

# SERVICE TO SCHOOLS

None

# MEMBERSHIP AND ACTIVITIES IN THE PROFESSION

## MEMBERSHIPS

```{r, include = FALSE, message = FALSE}
memberships <- filter(dat_service, activity == "n")
```

### International

```{r}
print_memberships(memberships, locale = "international")
```

### National

```{r}
print_memberships(memberships, locale = "national")
```

### Regional

```{r}
print_memberships(memberships, locale = "regional")
```

### State

```{r}
print_memberships(memberships, locale = "state")
```

### Local

```{r}
print_memberships(memberships, locale = "local")
```

## ACTIVITIES IN THE PROFESSION

```{r, include = FALSE, message = FALSE}
activities <- filter(dat_service, activity == "y")
```

### International

```{r}
activities %>%
    filter(locale == "international") %>%
    format_service() %>%
    print_data(prefix = "", sep = "\n\n", 
               empty_message = "None\n")
```

### National

```{r}
activities %>%
    filter(locale == "national") %>%
    format_service() %>%
    print_data(prefix = "", sep = "\n\n", 
               empty_message = "None\n")
```

### Regional

```{r}
activities %>%
    filter(locale == "regional") %>%
    format_service() %>%
    print_data(prefix = "", sep = "\n\n", 
               empty_message = "None\n")
```

### State

```{r}
activities %>%
    filter(locale == "state") %>%
    format_service() %>%
    print_data(prefix = "", sep = "\n\n", 
               empty_message = "None\n")
```

### Local

```{r}
activities %>%
    filter(locale == "local") %>%
    format_service() %>%
    print_data(prefix = "", sep = "\n\n", 
               empty_message = "None\n")
```

# HONORS

```{r, include = FALSE}
awards <- readRDS("data/awards.RDS")
```

## International

```{r}
print_awards(awards, locale = "international")
```

## National

```{r}
print_awards(awards, locale = "national")
```

## Regional

```{r}
print_awards(awards, locale = "regional")
```

## State

```{r}
print_awards(awards, locale = "state")
```

## Local

```{r}
print_awards(awards, locale = "local")
```

# CHAIR’S LETTER

# DEAN’S LETTER

# SAMPLE LETTER TO EVALUATORS

# BIO-SKETCHES OF INDIVIDUALS WRITING SOLICITED LETTERS OF EVALUATION and LETTERS OF EVALUATION

# COPIES OF THE LAST FIVE ANNUAL LETTERS OF EVALUATION

# 34. FURTHER INFORMATION
